{% extends 'studentpanel/master.html' %}

 
{% block contentsection %}
  <div class="mb-4"><h4>Materials</h4></div> 
  

{% for message in messages %}
 {{message|safe}}
{% endfor %}
<!-- DataTable with Buttons -->

<div class="card">
    <div class="card-body">
          <div class="btn-group">
            <button class="btn btn-primary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">{% if selected_sub %}{{selected_sub.sub_name}}{% else %}Subjects{% endif %}</button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="{% url 'Student_Materials' %}">ALL</a></li>
              {% for subject in subjects %}
              <li><a class="dropdown-item" href="{% url 'Student_Materials' %}?sub_id={{subject.sub_id}}">{{subject.sub_name}}</a></li>
              {% endfor %}
            </ul>
          </div>

 </div>
 </div>

 <br><br>

 <div class="row">

  {% if selected_sub %}

  {% for mat in materials %}
  {% if selected_sub.sub_name == mat.cm_chepter.chep_sub.sub_name %}
  
    <div class="col-md-2 mb-3">
      <a href="/media/{{mat.cm_file}}">
      <div class="card" style="height: 150px;">
        <div class="card-body d-flex justify-content-center align-items-center">
               {{mat.cm_filename}} - {{mat.cm_chepter.chep_sub.sub_name}}
        </div>
     </div>
     </a>
    </div>
   
  {% endif %}
  {% endfor %}

  {% else %}

  {% for subject in subjects %}
  <h6>{{subject}}</h6>
  {% for mat in materials %}
  {% if subject.sub_name == mat.cm_chepter.chep_sub.sub_name %}
  
    <div class="col-md-2 mb-3">
      <a href="/media/{{mat.cm_file}}">
      <div class="card" style="height: 150px;">
        <div class="card-body d-flex justify-content-center align-items-center">
               {{mat.cm_filename}} - {{mat.cm_chepter.chep_sub.sub_name}}
        </div>
     </div>
     </a>
    </div>
   
  {% endif %}
  {% endfor %}<hr/>
  {% endfor %}

  {% endif %}
 </div>


 {% endblock %}
